import{b as Y,aa as Q,A as Z,ai as W,y as X,e as k,f as T,C as M,c as I,o as $,m as J,a as d,M as ee,bu as te,aB as q,N as B,aC as K,bv as oe,a6 as ae,aJ as ne,T as _,w as ie,r as x,E as P,P as se,ab as re,aE as le,D as ue,L as F,F as ce,j as de}from"#entry";import{j as fe}from"./DvYBZqIB.js";function S(e){if(typeof e!="object")return e;var n,o,t=Object.prototype.toString.call(e);if(t==="[object Object]"){if(e.constructor!==Object&&typeof e.constructor=="function"){o=new e.constructor;for(n in e)e.hasOwnProperty(n)&&o[n]!==e[n]&&(o[n]=S(e[n]))}else{o={};for(n in e)n==="__proto__"?Object.defineProperty(o,n,{value:S(e[n]),configurable:!0,enumerable:!0,writable:!0}):o[n]=S(e[n])}return o}if(t==="[object Array]"){for(n=e.length,o=Array(n);n--;)o[n]=S(e[n]);return o}return t==="[object Set]"?(o=new Set,e.forEach(function(a){o.add(S(a))}),o):t==="[object Map]"?(o=new Map,e.forEach(function(a,r){o.set(S(r),S(a))}),o):t==="[object Date]"?new Date(+e):t==="[object RegExp]"?(o=new RegExp(e.source,e.flags),o.lastIndex=e.lastIndex,o):t==="[object DataView]"?new e.constructor(S(e.buffer)):t==="[object ArrayBuffer]"?e.slice(0):t.slice(-6)==="Array]"?new e.constructor(e):e}const[G,Re]=Y("DashboardGroup"),pe={base:"lg:hidden",variants:{side:{left:"",right:""}}},Le={__name:"UDashboardSidebarToggle",props:{side:{type:String,required:!1,default:"left"},color:{type:null,required:!1,default:"neutral"},variant:{type:null,required:!1,default:"ghost"},class:{type:null,required:!1}},setup(e){const n=e,o=Q(Z(n,"color","variant","size")),{t}=W(),a=X(),{sidebarOpen:r,toggleSidebar:i}=G({sidebarOpen:k(!1),toggleSidebar:()=>{}}),l=T(()=>M({extend:M(pe),...a.ui?.dashboardSidebarToggle||{}}));return(u,c)=>($(),I(ee,J(d(o),{"aria-label":d(r)?d(t)("dashboardSidebarToggle.close"):d(t)("dashboardSidebarToggle.open"),icon:d(r)?d(a).ui.icons.close:d(a).ui.icons.menu,class:l.value({class:n.class,side:n.side}),onClick:d(i)}),null,16,["aria-label","icon","class","onClick"]))}};function ve(e,n){if(typeof e!="string")throw new TypeError("argument str must be a string");const o={},t=n||{},a=t.decode||he;let r=0;for(;r<e.length;){const i=e.indexOf("=",r);if(i===-1)break;let l=e.indexOf(";",r);if(l===-1)l=e.length;else if(l<i){r=e.lastIndexOf(";",i-1)+1;continue}const u=e.slice(r,i).trim();if(t?.filter&&!t?.filter(u)){r=l+1;continue}if(o[u]===void 0){let c=e.slice(i+1,l).trim();c.codePointAt(0)===34&&(c=c.slice(1,-1)),o[u]=me(c,a)}r=l+1}return o}function he(e){return e.includes("%")?decodeURIComponent(e):e}function me(e,n){try{return n(e)}catch{return e}}const j=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function U(e,n,o){const t=o||{},a=t.encode||encodeURIComponent;if(typeof a!="function")throw new TypeError("option encode is invalid");if(!j.test(e))throw new TypeError("argument name is invalid");const r=a(n);if(r&&!j.test(r))throw new TypeError("argument val is invalid");let i=e+"="+r;if(t.maxAge!==void 0&&t.maxAge!==null){const l=t.maxAge-0;if(Number.isNaN(l)||!Number.isFinite(l))throw new TypeError("option maxAge is invalid");i+="; Max-Age="+Math.floor(l)}if(t.domain){if(!j.test(t.domain))throw new TypeError("option domain is invalid");i+="; Domain="+t.domain}if(t.path){if(!j.test(t.path))throw new TypeError("option path is invalid");i+="; Path="+t.path}if(t.expires){if(!be(t.expires)||Number.isNaN(t.expires.valueOf()))throw new TypeError("option expires is invalid");i+="; Expires="+t.expires.toUTCString()}if(t.httpOnly&&(i+="; HttpOnly"),t.secure&&(i+="; Secure"),t.priority)switch(typeof t.priority=="string"?t.priority.toLowerCase():t.priority){case"low":{i+="; Priority=Low";break}case"medium":{i+="; Priority=Medium";break}case"high":{i+="; Priority=High";break}default:throw new TypeError("option priority is invalid")}if(t.sameSite)switch(typeof t.sameSite=="string"?t.sameSite.toLowerCase():t.sameSite){case!0:{i+="; SameSite=Strict";break}case"lax":{i+="; SameSite=Lax";break}case"strict":{i+="; SameSite=Strict";break}case"none":{i+="; SameSite=None";break}default:throw new TypeError("option sameSite is invalid")}return t.partitioned&&(i+="; Partitioned"),i}function be(e){return Object.prototype.toString.call(e)==="[object Date]"||e instanceof Date}const ge={path:"/",watch:!0,decode:e=>te(decodeURIComponent(e)),encode:e=>encodeURIComponent(typeof e=="string"?e:JSON.stringify(e))},A=globalThis.cookieStore;function we(e,n){const o={...ge,...n};o.filter??=c=>c===e;const t=V(o)||{};let a;o.maxAge!==void 0?a=o.maxAge*1e3:o.expires&&(a=o.expires.getTime()-Date.now());const r=a!==void 0&&a<=0,i=r||t[e]===void 0||t[e]===null,l=S(r?void 0:t[e]??o.default?.()),u=a&&!r?ze(l,a,o.watch&&o.watch!=="shallow"):k(l);{let c=null;try{!A&&typeof BroadcastChannel<"u"&&(c=new BroadcastChannel(`nuxt:cookies:${e}`))}catch{}const p=(b=!1)=>{!b&&(o.readonly||ne(u.value,t[e]))||(ye(e,u.value,o),t[e]=S(u.value),c?.postMessage({value:o.encode(u.value)}))},m=b=>{const C=b.refresh?V(o)?.[e]:o.decode(b.value);v=!0,u.value=C,t[e]=S(C),ae(()=>{v=!1})};let v=!1;const R=!!K();if(R&&q(()=>{v=!0,p(),c?.close()}),A){const b=C=>{const L=C.changed.find(y=>y.name===e),N=C.deleted.find(y=>y.name===e);L&&m({value:L.value}),N&&m({value:null})};A.addEventListener("change",b),R&&q(()=>A.removeEventListener("change",b))}else c&&(c.onmessage=({data:b})=>m(b));o.watch&&B(u,()=>{v||p()},{deep:o.watch!=="shallow"}),i&&p(i)}return u}function V(e={}){return ve(document.cookie,e)}function Se(e,n,o={}){return n==null?U(e,n,{...o,maxAge:-1}):U(e,n,o)}function ye(e,n,o={}){document.cookie=Se(e,n,o)}const H=2147483647;function ze(e,n,o){let t,a,r=0;const i=o?k(e):{value:e};return K()&&q(()=>{a?.(),clearTimeout(t)}),oe((l,u)=>{o&&(a=B(i,u));function c(){r=0,clearTimeout(t);const p=n-r,m=p<H?p:H;t=setTimeout(()=>{if(r+=m,r<n)return c();i.value=void 0,u()},m)}return{get(){return l(),i.value},set(p){c(),i.value=p,u()}}})}const ke=(e,n={},{collapsed:o=k(!1)}={})=>{const t=k(null),a=T(()=>({side:"left",minSize:0,maxSize:100,defaultSize:0,storage:"cookie",persistent:!0,collapsible:!1,collapsedSize:0,resizable:!0,unit:"%",..._(n)?n.value:n})),{dir:r}=W(),i={size:a.value.defaultSize,collapsed:d(o)??!1},l=a.value.persistent&&(a.value.resizable||a.value.collapsible)?a.value.storage==="cookie"?we(e,{default:()=>i}):fe(e,i):k(i),u=T({get:()=>l.value.collapsed,set:s=>{a.value.collapsible&&(_(o)&&(o.value=s),l.value.collapsed=s)}}),c=k(a.value.defaultSize),p=T({get:()=>l.value.size,set:s=>{l.value.size=s}}),m=T(()=>u.value?a.value.collapsedSize:p.value),v=k(!1),R=(s,f,E)=>{if(!t.value||!a.value.resizable)return;const D=t.value.parentElement?.offsetWidth||1,z=r.value==="rtl";let h;z?h=a.value.side==="left"?f-s.clientX:s.clientX-f:h=a.value.side==="left"?s.clientX-f:f-s.clientX;const g=E+h;let w;if(a.value.unit==="rem"){const O=Number.parseFloat(getComputedStyle(document.documentElement).fontSize);w=g/O}else a.value.unit==="px"?w=g:w=g/D*100;if(a.value.collapsible&&w<a.value.collapsedSize+4){y(!0);return}else u.value&&y(!1);p.value=Math.min(a.value.maxSize,Math.max(a.value.minSize,w))},b=s=>{if(!t.value||!a.value.resizable)return;s.preventDefault(),s.stopPropagation();const f=t.value.getBoundingClientRect().width;if(!f)return;const E=s.clientX,D=f;v.value=!0;const z=g=>{R(g,E,D)},h=()=>{v.value=!1,document.removeEventListener("mousemove",z),document.removeEventListener("mouseup",h)};document.addEventListener("mousemove",z),document.addEventListener("mouseup",h)},C=(s,f,E)=>{if(!t.value||!a.value.resizable||!s.touches[0])return;const D=t.value.parentElement?.offsetWidth||1,z=r.value==="rtl";let h;z?h=a.value.side==="left"?f-s.touches[0].clientX:s.touches[0].clientX-f:h=a.value.side==="left"?s.touches[0].clientX-f:f-s.touches[0].clientX;const g=E+h;let w;if(a.value.unit==="rem"){const O=Number.parseFloat(getComputedStyle(document.documentElement).fontSize);w=g/O}else a.value.unit==="px"?w=g:w=g/D*100;if(a.value.collapsible&&w<a.value.collapsedSize+4){y(!0);return}else u.value&&y(!1);p.value=Math.min(a.value.maxSize,Math.max(a.value.minSize,w))},L=s=>{if(!t.value||!a.value.resizable||!s.touches[0])return;s.preventDefault(),s.stopPropagation();const f=t.value.getBoundingClientRect().width;if(!f)return;const E=s.touches[0].clientX,D=f;v.value=!0;const z=g=>{C(g,E,D)},h=()=>{v.value=!1,document.removeEventListener("touchmove",z),document.removeEventListener("touchend",h),document.removeEventListener("touchcancel",h)};document.addEventListener("touchmove",z,{passive:!1}),document.addEventListener("touchend",h),document.addEventListener("touchcancel",h)},N=s=>{!t.value||!a.value.resizable||(s.preventDefault(),s.stopPropagation(),u.value&&y(!1),p.value=a.value.defaultSize)},y=s=>{if(!a.value.collapsible)return;const f=s??!u.value;f&&!u.value?c.value=p.value:!f&&u.value&&(p.value=c.value),u.value=f};return _(o)&&l.value.collapsed&&(o.value=l.value.collapsed),_(o)&&B(o,s=>{a.value.collapsible&&l.value.collapsed!==s&&(l.value.collapsed=s)}),{el:t,size:m,isDragging:v,isCollapsed:u,onMouseDown:b,onTouchStart:L,onDoubleClick:N,collapse:y}},Ce={base:"hidden lg:block touch-none select-none cursor-ew-resize relative before:absolute before:inset-y-0 before:-left-1.5 before:-right-1.5"},Ee={__name:"UDashboardResizeHandle",props:{as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const n=e,o=X(),t=T(()=>M({extend:M(Ce),...o.ui?.dashboardResizeHandle||{}}));return(a,r)=>($(),I(d(se),{as:e.as,role:"separator",class:P(t.value({class:n.class}))},{default:ie(()=>[x(a.$slots,"default")]),_:3},8,["as","class"]))}},De={slots:{root:"relative flex flex-col min-w-0 min-h-svh lg:not-last:border-e lg:not-last:border-default shrink-0",body:"flex flex-col gap-4 sm:gap-6 flex-1 overflow-y-auto p-4 sm:p-6",handle:""},variants:{size:{true:{root:"w-full lg:w-(--width)"},false:{root:"flex-1"}}}},Te=["data-dragging"],_e=Object.assign({inheritAttrs:!1},{__name:"UDashboardPanel",props:{class:{type:null,required:!1},ui:{type:null,required:!1},id:{type:String,required:!1},minSize:{type:Number,required:!1,default:15},maxSize:{type:Number,required:!1},defaultSize:{type:Number,required:!1},resizable:{type:Boolean,required:!1,default:!1}},setup(e){const n=e,o=X(),t=G({storageKey:"dashboard",unit:"%"}),a=`${t.storageKey}-panel-${n.id||re()}`,{el:r,size:i,isDragging:l,onMouseDown:u,onTouchStart:c,onDoubleClick:p}=ke(a,le(()=>({...t,...n}))),m=T(()=>M({extend:M(De),...o.ui?.dashboardPanel||{}})({size:!!i.value}));return(v,R)=>($(),ue(ce,null,[F("div",J({id:a,ref_key:"el",ref:r},v.$attrs,{"data-dragging":d(l),class:m.value.root({class:[n.ui?.root,n.class]}),style:[d(i)?{"--width":`${d(i)}${d(t).unit}`}:void 0]}),[x(v.$slots,"default",{},()=>[x(v.$slots,"header"),F("div",{class:P(m.value.body({class:n.ui?.body}))},[x(v.$slots,"body")],2),x(v.$slots,"footer")])],16,Te),x(v.$slots,"resize-handle",{onMouseDown:d(u),onTouchStart:d(c),onDoubleClick:d(p)},()=>[e.resizable?($(),I(Ee,{key:0,"aria-controls":a,class:P(m.value.handle({class:n.ui?.handle})),onMousedown:d(u),onTouchstart:d(c),onDblclick:d(p)},null,8,["class","onMousedown","onTouchstart","onDblclick"])):de("",!0)])],64))}});export{_e as _,Le as a,we as b,ke as c,Ee as d,Re as p,G as u};
