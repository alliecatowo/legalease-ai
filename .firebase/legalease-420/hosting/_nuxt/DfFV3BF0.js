import{_ as B}from"./zGKBPmqO.js";import{_ as I}from"./B7vB9rem.js";import{_ as N}from"./Ch8iEGbY.js";import{d as S,Z as j,$ as D,N as E,a0 as F,D as A,s as o,w as t,a1 as G,o as f,a,L as i,c as L,j as W,M as P,J as l}from"#entry";import{_ as R}from"./Xz0a4XdM.js";import{o as J,s as g,_ as M}from"./CCDg-5zE.js";import{_ as T}from"./BHe7gfhX.js";import"./DvYBZqIB.js";import"./CqOTKR6S.js";import"./BGmxVXu4.js";import"./U9gof1xZ.js";import"./Bc20tCqw.js";import"./BSuOfW5l.js";import"./CHZYgNjC.js";import"./BMuCWYOq.js";import"./CGV-9Xko.js";const Y={class:"min-h-screen flex items-center justify-center bg-default p-4"},Z={class:"flex items-center justify-between"},q={class:"text-center text-muted text-sm"},de=S({__name:"login",setup(z){const{signInWithEmail:w,signInWithGoogle:b,error:d,isLoading:p,isAuthenticated:x}=j(),m=D();E(x,s=>{s&&m.push("/")},{immediate:!0});const y=J({email:g().email("Invalid email address"),password:g().min(6,"Password must be at least 6 characters")}),n=F({email:"",password:""}),k=async s=>{try{await w(s.data.email,s.data.password),m.push("/")}catch{}},v=async()=>{try{await b(),m.push("/")}catch{}};return(s,e)=>{const u=B,_=I,h=N,r=P,U=R,V=M,C=G("UDivider"),$=T;return f(),A("div",Y,[o($,{class:"w-full max-w-md"},{header:t(()=>[...e[2]||(e[2]=[i("div",{class:"text-center"},[i("h1",{class:"text-2xl font-bold"},"Welcome back"),i("p",{class:"text-muted mt-1"},"Sign in to your LegalEase account")],-1)])]),footer:t(()=>[i("p",q,[e[7]||(e[7]=l(" Don't have an account? ",-1)),o(r,{variant:"link",color:"primary",to:"/signup",padded:!1},{default:t(()=>[...e[6]||(e[6]=[l(" Sign up ",-1)])]),_:1})])]),default:t(()=>[o(V,{schema:a(y),state:a(n),class:"space-y-4",onSubmit:k},{default:t(()=>[o(_,{label:"Email",name:"email"},{default:t(()=>[o(u,{modelValue:a(n).email,"onUpdate:modelValue":e[0]||(e[0]=c=>a(n).email=c),type:"email",placeholder:"you@example.com",icon:"i-lucide-mail",autocomplete:"email"},null,8,["modelValue"])]),_:1}),o(_,{label:"Password",name:"password"},{default:t(()=>[o(u,{modelValue:a(n).password,"onUpdate:modelValue":e[1]||(e[1]=c=>a(n).password=c),type:"password",placeholder:"Your password",icon:"i-lucide-lock",autocomplete:"current-password"},null,8,["modelValue"])]),_:1}),i("div",Z,[o(h,{label:"Remember me"}),o(r,{variant:"link",color:"primary",to:"/forgot-password",padded:!1},{default:t(()=>[...e[3]||(e[3]=[l(" Forgot password? ",-1)])]),_:1})]),a(d)?(f(),L(U,{key:0,color:"error",variant:"subtle",description:a(d),icon:"i-lucide-alert-circle"},null,8,["description"])):W("",!0),o(r,{type:"submit",block:"",loading:a(p)},{default:t(()=>[...e[4]||(e[4]=[l(" Sign in ",-1)])]),_:1},8,["loading"])]),_:1},8,["schema","state"]),o(C,{label:"or",class:"my-4"}),o(r,{block:"",color:"neutral",variant:"outline",icon:"i-simple-icons-google",loading:a(p),onClick:v},{default:t(()=>[...e[5]||(e[5]=[l(" Continue with Google ",-1)])]),_:1},8,["loading"])]),_:1})])}}});export{de as default};
