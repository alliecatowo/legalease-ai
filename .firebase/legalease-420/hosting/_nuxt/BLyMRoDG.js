import{aw as J,aB as Q,v as X,H as Y,x as C,ao as Z,ai as _,y as ee,e as T,ab as ae,aE as M,N as y,f as N,aW as le,D as p,o as d,s as v,c,j as r,L as b,w as k,r as i,a as e,E as n,m as S,F as se,C as R}from"#entry";import{e as A}from"./DvYBZqIB.js";import{u as oe,c as te,a as de,d as re}from"./DK_M2cpq.js";import{_ as ie}from"./C6n6dLpr.js";import{_ as ue}from"./DbmbX4Z1.js";import{_ as ne}from"./BbGAuGWc.js";const ce={slots:{root:"relative hidden lg:flex flex-col min-h-svh min-w-16 w-(--width) shrink-0",header:"h-(--ui-header-height) shrink-0 flex items-center gap-1.5 px-4",body:"flex flex-col gap-4 flex-1 overflow-y-auto px-4 py-2",footer:"shrink-0 flex items-center gap-1.5 px-4 py-2",toggle:"",handle:"",content:"lg:hidden",overlay:"lg:hidden"},variants:{menu:{true:{header:"sm:px-6",body:"sm:px-6",footer:"sm:px-6"}},side:{left:{root:"border-e border-default"},right:{root:""}},toggleSide:{left:{toggle:""},right:{toggle:"ms-auto"}}}};function O(l,a){const o=J().hook(l,a);Q(o)}const fe=["data-collapsed","data-dragging"],be=Object.assign({inheritAttrs:!1},{__name:"UDashboardSidebar",props:X({mode:{type:null,required:!1,default:"slideover"},menu:{type:null,required:!1},toggle:{type:[Boolean,Object],required:!1,default:!0},toggleSide:{type:String,required:!1,default:"left"},class:{type:null,required:!1},ui:{type:null,required:!1},id:{type:String,required:!1},side:{type:String,required:!1,default:"left"},minSize:{type:Number,required:!1,default:10},maxSize:{type:Number,required:!1,default:20},defaultSize:{type:Number,required:!1,default:15},resizable:{type:Boolean,required:!1,default:!1},collapsible:{type:Boolean,required:!1,default:!1},collapsedSize:{type:Number,required:!1,default:0}},{open:{type:Boolean,default:!1},openModifiers:{},collapsed:{type:Boolean,default:!1},collapsedModifiers:{}}),emits:["update:open","update:collapsed"],setup(l){const a=l,f=Y(),o=C(l,"open",{type:Boolean,default:!1}),j=C(l,"collapsed",{type:Boolean,default:!1}),H=Z(),{t:$}=_(),E=ee(),g=oe({storageKey:"dashboard",unit:"%",sidebarOpen:T(!1),sidebarCollapsed:T(!1)}),m=`${g.storageKey}-sidebar-${a.id||ae()}`,{el:F,size:P,collapse:h,isCollapsed:u,isDragging:V,onMouseDown:w,onTouchStart:q,onDoubleClick:D}=te(m,M(()=>({...g,...a})),{collapsed:j}),[K,x]=A(),[L,z]=A();O("dashboard:sidebar:toggle",()=>{o.value=!o.value}),O("dashboard:sidebar:collapse",s=>{u.value=s}),y(o,()=>g.sidebarOpen.value=o.value,{immediate:!0}),y(u,()=>g.sidebarCollapsed.value=u.value,{immediate:!0}),y(()=>H.fullPath,()=>{o.value=!1});const t=N(()=>R({extend:R(ce),...E.ui?.dashboardSidebar||{}})({side:a.side})),U=N(()=>({slideover:ie,modal:ue,drawer:ne})[a.mode]),I=M(()=>le(a.menu,{content:{onOpenAutoFocus:s=>s.preventDefault()}},a.mode==="modal"?{fullscreen:!0,transition:!1}:a.mode==="slideover"?{side:"left"}:{}));function W(){o.value=!o.value}return(s,B)=>(d(),p(se,null,[v(e(K),null,{default:k(()=>[i(s.$slots,"toggle",{open:o.value,toggle:W},()=>[l.toggle?(d(),c(de,S({key:0},typeof l.toggle=="object"?l.toggle:{},{side:l.toggleSide,class:t.value.toggle({class:a.ui?.toggle,toggleSide:l.toggleSide})}),null,16,["side","class"])):r("",!0)])]),_:3}),v(e(L),null,{default:k(()=>[i(s.$slots,"resize-handle",{onMouseDown:e(w),onTouchStart:e(q),onDoubleClick:e(D)},()=>[l.resizable?(d(),c(re,{key:0,"aria-controls":m,class:n(t.value.handle({class:a.ui?.handle})),onMousedown:e(w),onTouchstart:e(q),onDblclick:e(D)},null,8,["class","onMousedown","onTouchstart","onDblclick"])):r("",!0)])]),_:3}),l.side==="right"?(d(),c(e(z),{key:0})):r("",!0),b("div",S({id:m,ref_key:"el",ref:F},s.$attrs,{"data-collapsed":e(u),"data-dragging":e(V),class:t.value.root({class:[a.ui?.root,a.class]}),style:{"--width":`${e(P)||0}${e(g).unit}`}}),[f.header?(d(),p("div",{key:0,class:n(t.value.header({class:a.ui?.header}))},[i(s.$slots,"header",{collapsed:e(u),collapse:e(h)})],2)):r("",!0),b("div",{class:n(t.value.body({class:a.ui?.body}))},[i(s.$slots,"default",{collapsed:e(u),collapse:e(h)})],2),f.footer?(d(),p("div",{key:1,class:n(t.value.footer({class:a.ui?.footer}))},[i(s.$slots,"footer",{collapsed:e(u),collapse:e(h)})],2)):r("",!0)],16,fe),l.side==="left"?(d(),c(e(z),{key:1})):r("",!0),v(e(U),S({open:o.value,"onUpdate:open":B[0]||(B[0]=G=>o.value=G),title:e($)("dashboardSidebar.title"),description:e($)("dashboardSidebar.description")},I.value,{ui:{overlay:t.value.overlay({class:a.ui?.overlay}),content:t.value.content({class:a.ui?.content})}}),{content:k(()=>[i(s.$slots,"content",{},()=>[f.header||l.mode!=="drawer"?(d(),p("div",{key:0,class:n(t.value.header({class:a.ui?.header,menu:!0}))},[l.mode!=="drawer"&&l.toggleSide==="left"?(d(),c(e(x),{key:0})):r("",!0),i(s.$slots,"header"),l.mode!=="drawer"&&l.toggleSide==="right"?(d(),c(e(x),{key:1})):r("",!0)],2)):r("",!0),b("div",{class:n(t.value.body({class:a.ui?.body,menu:!0}))},[i(s.$slots,"default")],2),f.footer?(d(),p("div",{key:1,class:n(t.value.footer({class:a.ui?.footer,menu:!0}))},[i(s.$slots,"footer")],2)):r("",!0)])]),_:3},16,["open","title","description","ui"])],64))}});export{be as _,O as u};
