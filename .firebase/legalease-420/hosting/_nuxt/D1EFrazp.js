import{d as k,v as A,x as B,Q as I,$ as P,e as f,N as S,c as C,o as v,w as n,s as t,a,L as r,j as E,M as L,_ as O}from"#entry";import{_ as R}from"./zGKBPmqO.js";import{_ as z}from"./B7vB9rem.js";import{_ as D}from"./DE4e927w.js";import{_ as G}from"./Xz0a4XdM.js";import{o as Q,s as d,_ as H}from"./CCDg-5zE.js";import{_ as J}from"./DbmbX4Z1.js";import{u as K}from"./CaoxetMn.js";import"./DvYBZqIB.js";import"./CqOTKR6S.js";import"./CHZYgNjC.js";import"./U9gof1xZ.js";import"./Dip1mGGo.js";import"./sTZnGM-8.js";import"./C6cQ_fTz.js";import"./CxKOMpoR.js";import"./BstbYvQo.js";import"./BSuOfW5l.js";import"./BV1PiVJJ.js";import"./Cf6gTX0p.js";const W={class:"flex items-center gap-3"},X={class:"grid grid-cols-2 gap-4"},Y={class:"flex items-center justify-end gap-2 pt-2"},Z=k({__name:"CreateCaseModal",props:{open:{type:Boolean},openModifiers:{}},emits:A(["created"],["update:open"]),setup(g,{emit:V}){const i=B(g,"open"),N=V,U=K(),x=I(),$=P(),p=f(!1),m=f(null),T=Q({name:d().min(1,"Case name is required"),caseNumber:d().min(1,"Case number is required"),client:d().min(1,"Client name is required"),matterType:d().optional()}),l=f({name:"",caseNumber:"",client:"",matterType:""}),h=[{label:"Civil Litigation",value:"civil"},{label:"Corporate",value:"corporate"},{label:"Patent/IP",value:"patent"},{label:"Employment",value:"employment"},{label:"Real Estate",value:"real_estate"},{label:"Criminal",value:"criminal"},{label:"Family Law",value:"family"},{label:"Personal Injury",value:"personal_injury"},{label:"Other",value:"other"}];async function w(s){p.value=!0,m.value=null;try{const e={name:s.data.name,case_number:s.data.caseNumber,client:s.data.client,matter_type:s.data.matterType||null},c=await U.cases.create(e);x.add({title:"Case created",description:`${c.name} has been created successfully.`,color:"success"}),N("created",c),i.value=!1,b(),$.push(`/cases/${c.id}`)}catch(e){console.error("Failed to create case:",e),m.value=e?.data?.detail||"Failed to create case. Please try again."}finally{p.value=!1}}function b(){l.value={name:"",caseNumber:"",client:"",matterType:""},m.value=null}return S(i,s=>{s||b()}),(s,e)=>{const c=O,_=R,u=z,M=D,F=G,y=L,j=H,q=J;return v(),C(q,{open:i.value,"onUpdate:open":e[5]||(e[5]=o=>i.value=o),ui:{content:"max-w-lg"}},{header:n(()=>[r("div",W,[t(c,{name:"i-lucide-folder-plus",class:"size-6 text-primary"}),e[6]||(e[6]=r("div",null,[r("h2",{class:"text-xl font-semibold"},"Create New Case"),r("p",{class:"text-sm text-muted mt-0.5"},"Add a new case to your workspace")],-1))])]),body:n(()=>[t(j,{schema:a(T),state:a(l),class:"space-y-4",onSubmit:w},{default:n(()=>[t(u,{label:"Case Name",name:"name",required:""},{default:n(()=>[t(_,{modelValue:a(l).name,"onUpdate:modelValue":e[0]||(e[0]=o=>a(l).name=o),placeholder:"e.g., Acme Corp v. Global Tech",icon:"i-lucide-briefcase"},null,8,["modelValue"])]),_:1}),r("div",X,[t(u,{label:"Case Number",name:"caseNumber",required:""},{default:n(()=>[t(_,{modelValue:a(l).caseNumber,"onUpdate:modelValue":e[1]||(e[1]=o=>a(l).caseNumber=o),placeholder:"e.g., 2024-CV-12345",icon:"i-lucide-hash"},null,8,["modelValue"])]),_:1}),t(u,{label:"Matter Type",name:"matterType"},{default:n(()=>[t(M,{modelValue:a(l).matterType,"onUpdate:modelValue":e[2]||(e[2]=o=>a(l).matterType=o),items:h,placeholder:"Select type"},null,8,["modelValue"])]),_:1})]),t(u,{label:"Client",name:"client",required:""},{default:n(()=>[t(_,{modelValue:a(l).client,"onUpdate:modelValue":e[3]||(e[3]=o=>a(l).client=o),placeholder:"e.g., Acme Corporation",icon:"i-lucide-building"},null,8,["modelValue"])]),_:1}),a(m)?(v(),C(F,{key:0,color:"error",variant:"subtle",description:a(m),icon:"i-lucide-alert-circle"},null,8,["description"])):E("",!0),r("div",Y,[t(y,{label:"Cancel",color:"neutral",variant:"ghost",onClick:e[4]||(e[4]=o=>i.value=!1)}),t(y,{type:"submit",label:"Create Case",icon:"i-lucide-plus",color:"primary",loading:a(p)},null,8,["loading"])])]),_:1},8,["schema","state"])]),_:1},8,["open"])}}}),ge=Object.assign(Z,{__name:"ModalsCreateCaseModal"});export{ge as default};
