import{b0 as o,aw as n,Q as p}from"#entry";const m=()=>{const i=o().public.apiBase,{$auth:r}=n(),a=$fetch.create({baseURL:i,async onRequest({options:e}){const t={...e.headers};if(r?.currentUser)try{const s=await r.currentUser.getIdToken();t.Authorization=`Bearer ${s}`}catch(s){console.warn("Failed to get auth token:",s)}e.headers=t},onResponseError({response:e}){{const t=p();let s="An error occurred";e._data?.detail?Array.isArray(e._data.detail)?s=e._data.detail[0]?.msg||s:typeof e._data.detail=="string"&&(s=e._data.detail):e.statusText&&(s=e.statusText),t.add({title:"Error",description:s,color:"error"})}}});return{cases:{list:()=>a("/api/v1/cases"),get:e=>a(`/api/v1/cases/${e}`),create:e=>a("/api/v1/cases",{method:"POST",body:e}),update:(e,t)=>a(`/api/v1/cases/${e}`,{method:"PUT",body:t}),delete:e=>a(`/api/v1/cases/${e}`,{method:"DELETE"}),load:e=>a(`/api/v1/cases/${e}/load`,{method:"POST"}),unload:e=>a(`/api/v1/cases/${e}/unload`,{method:"POST"}),archive:e=>a(`/api/v1/cases/${e}/archive`,{method:"POST"})},documents:{listByCase:e=>a(`/api/v1/cases/${e}/documents`),listAll:e=>a("/api/v1/documents",{params:e}),get:e=>a(`/api/v1/documents/${e}`),upload:(e,t)=>a(`/api/v1/cases/${e}/documents`,{method:"POST",body:t}),delete:e=>a(`/api/v1/documents/${e}`,{method:"DELETE"}),download:e=>a(`/api/v1/documents/${e}/download`),content:e=>a(`/api/v1/documents/${e}/content`)},search:{query:e=>a("/api/v1/search",{params:e}),hybrid:e=>a("/api/v1/search/hybrid",{method:"POST",body:e}),semantic:e=>a("/api/v1/search/semantic",{method:"POST",body:e}),suggest:e=>a("/api/v1/search/suggestions",{params:{q:e}})},transcriptions:{listForCase:e=>a(`/api/v1/cases/${e}/transcriptions`),listAll:e=>a("/api/v1/transcriptions",{params:e}),get:e=>a(`/api/v1/transcriptions/${e}`),upload:(e,t)=>a(`/api/v1/cases/${e}/transcriptions`,{method:"POST",body:t}),delete:e=>a(`/api/v1/transcriptions/${e}`,{method:"DELETE"}),download:(e,t)=>a(`/api/v1/transcriptions/${e}/download/${t}`),getSummary:e=>a(`/api/v1/transcriptions/${e}/summary`),generateSummary:(e,t)=>a(`/api/v1/transcriptions/${e}/summarize`,{method:"POST",body:t||{}}),regenerateSummary:(e,t)=>a(`/api/v1/transcriptions/${e}/summary/regenerate`,{method:"POST",body:t}),quickSummary:e=>a(`/api/v1/transcriptions/${e}/summary/quick`,{method:"POST"}),summaryStatus:(e,t)=>a(`/api/v1/transcriptions/${e}/summary/status/${t}`),toggleKeyMoment:(e,t,s)=>a(`/api/v1/transcriptions/${e}/segments/${t}/key-moment`,{method:"PATCH",body:{is_key_moment:s}}),getKeyMoments:e=>a(`/api/v1/transcriptions/${e}/key-moments`),updateSpeaker:(e,t,s)=>a(`/api/v1/transcriptions/${e}/speakers/${t}`,{method:"PATCH",body:s}),getAudio:e=>a(`/api/v1/transcriptions/${e}/audio`)},forensicExports:{listForCase:e=>a(`/api/v1/cases/${e}/forensic-exports`),listAll:()=>a("/api/v1/forensic-exports"),get:e=>a(`/api/v1/forensic-exports/${e}`),scan:(e,t)=>a(`/api/v1/cases/${e}/forensic-exports/scan`,{method:"POST",body:{path:t}}),verify:e=>a(`/api/v1/forensic-exports/${e}/verify`,{method:"POST"}),delete:e=>a(`/api/v1/forensic-exports/${e}`,{method:"DELETE"}),getReportUrl:e=>`${i}/api/v1/forensic-exports/${e}/report`,listFiles:(e,t)=>a(`/api/v1/forensic-exports/${e}/files${t?`?subpath=${encodeURIComponent(t)}`:""}`)},stats:{dashboard:()=>a("/api/v1/stats/dashboard"),cases:()=>a("/api/v1/stats/cases"),search:(e=30)=>a("/api/v1/stats/search",{params:{days:e}})},activity:{recent:(e=10)=>a("/api/v1/activity/recent",{params:{limit:e}})},entities:{list:e=>a("/api/v1/entities",{params:e}),get:e=>a(`/api/v1/entities/${e}`),byType:e=>a(`/api/v1/entities/type/${e}`)},graph:{get:e=>a("/api/v1/graph",{params:{case_id:e}}),node:e=>a(`/api/v1/graph/nodes/${e}`),neighbors:e=>a(`/api/v1/graph/nodes/${e}/neighbors`)}}};export{m as u};
