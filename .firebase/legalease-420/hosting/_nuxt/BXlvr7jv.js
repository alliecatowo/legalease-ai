import{d as Ce,Q as Se,e as h,U as ce,f as E,D as d,s as o,w as i,F,o as r,L as t,j as f,_ as $e,J as m,K as n,M as Ve,c as C,a as S,V as T,S as N,G as j,E as Ee}from"#entry";import{_ as De}from"./4uE8Q9BU.js";import{_ as Ue}from"./CJ9Ym_Vo.js";import{_ as Fe}from"./CDi83SG1.js";import{_ as Te}from"./zGKBPmqO.js";import{_ as Pe}from"./DPqesvf7.js";import{_ as Me}from"./BHe7gfhX.js";import{_ as Ae}from"./C0wxqGeD.js";import{_ as Re}from"./DkGyBOcx.js";import{_ as Be}from"./Di12GvVr.js";import{_ as Le}from"./Ch8iEGbY.js";import{_ as Ne}from"./eM47yAaV.js";import{_ as je}from"./DK_M2cpq.js";import{_ as Ie}from"./B7vB9rem.js";import{_ as Ke}from"./DbmbX4Z1.js";import{u as Oe}from"./CaoxetMn.js";import{u as qe}from"./BehdISRr.js";import"./DvYBZqIB.js";import"./sTZnGM-8.js";import"./Dip1mGGo.js";import"./CHZYgNjC.js";import"./C0IRJ9st.js";import"./BSuOfW5l.js";import"./U9gof1xZ.js";import"./CGV-9Xko.js";import"./jxpb6RCH.js";import"./CXFRORYb.js";import"./CxKOMpoR.js";import"./C6cQ_fTz.js";import"./BMuCWYOq.js";import"./BGmxVXu4.js";import"./Bc20tCqw.js";import"./CqOTKR6S.js";import"./BV1PiVJJ.js";import"./Cf6gTX0p.js";const Ge={class:"max-w-7xl mx-auto space-y-6"},Qe={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},Xe={class:"bg-gradient-to-br from-primary/10 to-primary/5 border border-primary/20 rounded-xl p-6 hover:shadow-lg transition-all duration-200"},He={class:"flex items-start justify-between mb-4"},Ze={class:"p-3 bg-primary/10 rounded-lg"},Je={class:"text-3xl font-bold text-primary mb-1"},Ye={class:"bg-gradient-to-br from-success/10 to-success/5 border border-success/20 rounded-xl p-6 hover:shadow-lg transition-all duration-200"},We={class:"flex items-start justify-between mb-4"},et={class:"p-3 bg-success/10 rounded-lg"},tt={class:"text-3xl font-bold text-success mb-1"},st={class:"bg-gradient-to-br from-warning/10 to-warning/5 border border-warning/20 rounded-xl p-6 hover:shadow-lg transition-all duration-200"},lt={class:"flex items-start justify-between mb-4"},ot={class:"p-3 bg-warning/10 rounded-lg"},at={class:"text-3xl font-bold text-warning mb-1"},it={class:"bg-gradient-to-br from-info/10 to-info/5 border border-info/20 rounded-xl p-6 hover:shadow-lg transition-all duration-200"},nt={class:"flex items-start justify-between mb-4"},rt={class:"p-3 bg-info/10 rounded-lg"},dt={class:"text-3xl font-bold text-info mb-1"},ct={key:0,class:"bg-primary/10 border border-primary/20 rounded-xl p-4"},ut={class:"flex items-center justify-between gap-4 flex-wrap"},mt={class:"flex items-center gap-3"},vt={class:"font-semibold text-highlighted"},ft={class:"space-y-4"},pt={class:"flex flex-col md:flex-row gap-4"},_t={class:"flex-1"},xt={class:"flex flex-col md:flex-row gap-4"},gt={key:0,class:"flex flex-wrap gap-2"},ht={class:"flex items-center justify-between"},bt={class:"text-sm text-muted"},yt={key:1},kt={class:"font-semibold truncate max-w-xs"},wt={class:"text-sm"},zt={class:"text-sm"},Ct={class:"text-sm font-medium"},St={key:1,class:"text-sm text-muted"},$t={class:"text-sm text-muted"},Vt={key:2,class:"space-y-3"},Et={class:"flex items-start gap-4"},Dt={class:"flex-shrink-0 pt-3"},Ut=["onClick"],Ft=["onClick"],Tt={class:"flex items-start justify-between gap-4"},Pt={class:"flex-1 min-w-0"},Mt={class:"font-semibold text-base truncate"},At={class:"flex items-center gap-3 mt-1 text-sm text-muted flex-wrap"},Rt={class:"text-sm text-muted mt-2"},Bt={class:"flex items-center gap-1"},Lt={key:3,class:"text-center py-24"},Nt={class:"inline-flex items-center justify-center size-32 bg-gradient-to-br from-primary/20 to-primary/5 rounded-full mb-8"},jt={class:"text-3xl font-bold mb-4"},It={class:"text-lg text-muted mb-8 max-w-md mx-auto"},Kt={key:4,class:"text-center py-24"},Ot={class:"space-y-6"},qt={class:"flex items-center gap-3"},Gt={class:"p-2 bg-primary/10 rounded-lg"},Qt={class:"flex items-center gap-3"},Xt={class:"p-2 bg-primary/10 rounded-lg"},Ht={class:"space-y-4"},Zt={class:"flex flex-wrap gap-2"},Jt={class:"flex gap-2"},Yt={class:"p-4 bg-info/10 border border-info/20 rounded-lg"},Wt={class:"flex items-start gap-3"},es={class:"flex items-center gap-3"},ts={class:"p-2 bg-success/10 rounded-lg"},ss={class:"space-y-4"},ls={key:0},os={class:"font-medium text-success mb-2"},as={class:"space-y-2"},is={class:"font-medium"},ns={class:"text-xs text-muted mt-1"},rs={key:1},ds={class:"font-medium text-info mb-2"},cs={class:"max-h-32 overflow-y-auto space-y-1"},us={key:2},ms={class:"font-medium text-error mb-2"},vs={class:"max-h-32 overflow-y-auto space-y-2"},fs={class:"font-medium text-error"},ps={class:"text-xs text-muted mt-1"},_s={key:3},xs={class:"flex items-center justify-end gap-3"},el=Ce({__name:"index",async setup(gs){let I,K;const O=Oe(),$=Se(),k=h("list"),u=h([]),H=h(!1),P=h(!1),D=h(null),b=h("/data/forensic-exports"),M=h(!1),v=h(null),ue=[{label:"Forensic Exports (Default)",value:"/data/forensic-exports",icon:"i-lucide-hard-drive"},{label:"Root of mounted drive",value:"/data/forensic-exports/",icon:"i-lucide-folder"}];function me(){const l=document.createElement("input");l.type="file",l.webkitdirectory=!0,l.onchange=e=>{if(e.target.files.length>0){const Q=e.target.files[0].webkitRelativePath.split("/");Q.pop();const c="/"+Q.join("/");if(c.includes("My Passport")){const p=c.split("My Passport")[1]||"";b.value="/data/forensic-exports"+p}else b.value=c}},l.click()}const _=h(""),x=h(null),g=h(null),w=h("recent"),{cases:te,forensicExports:q}=qe();[I,K]=ce(()=>te.get()),await I,K(),[I,K]=ce(()=>q.get()),await I,K();const ve=E(()=>te.data.value||{cases:[],total:0}),Z=E(()=>[{label:"All Cases",value:null},...(ve.value?.cases||[]).map(l=>({label:l.name,value:l.id}))]),A=E(()=>q.data.value||[]),J=q.loading,R=q.refresh,y=E(()=>{let l=A.value||[];if(_.value){const e=_.value.toLowerCase();l=l.filter(a=>a.folder_name?.toLowerCase().includes(e)||a.case_name?.toLowerCase().includes(e)||a.export_uuid?.toLowerCase().includes(e))}return x.value&&(l=l.filter(e=>e.case_id===x.value)),g.value&&(l=l.filter(e=>e.export_status===g.value)),w.value==="recent"?l.sort((e,a)=>new Date(a.discovered_at).getTime()-new Date(e.discovered_at).getTime()):w.value==="oldest"?l.sort((e,a)=>new Date(e.discovered_at).getTime()-new Date(a.discovered_at).getTime()):w.value==="name-az"?l.sort((e,a)=>(e.folder_name||"").localeCompare(a.folder_name||"")):w.value==="name-za"?l.sort((e,a)=>(a.folder_name||"").localeCompare(e.folder_name||"")):w.value==="size-large"?l.sort((e,a)=>(a.size_bytes||0)-(e.size_bytes||0)):w.value==="size-small"?l.sort((e,a)=>(e.size_bytes||0)-(a.size_bytes||0)):w.value==="records-high"?l.sort((e,a)=>(a.total_records||0)-(e.total_records||0)):w.value==="records-low"&&l.sort((e,a)=>(e.total_records||0)-(a.total_records||0)),l}),B=E(()=>({total:A.value?.length||0,totalRecords:A.value?.reduce((l,e)=>l+(e.total_records||0),0)||0,totalAttachments:A.value?.reduce((l,e)=>l+(e.num_attachments||0),0)||0,totalSize:A.value?.reduce((l,e)=>l+(e.size_bytes||0),0)||0}));function Y(l){if(!l||l===0)return"0 B";const e=1024,a=["B","KB","MB","GB","TB"],V=Math.floor(Math.log(l)/Math.log(e));return Math.round(l/Math.pow(e,V)*100)/100+" "+a[V]}function se(l){return new Date(l).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}function U(l){return l?l.toLocaleString("en-US"):"0"}async function fe(){if(!D.value||!b.value){$.add({title:"Missing Information",description:"Please select a case and enter a path to scan",color:"error"});return}M.value=!0,v.value=null;try{const l=await O.forensicExports.scan(D.value,b.value);v.value=l;const e=l.found?.length||0,a=l.existing?.length||0,V=l.errors?.length||0;$.add({title:"Scan Complete",description:`Found ${e} new export(s), ${a} existing, ${V} error(s)`,color:e>0?"success":"info"}),e>0&&await R()}catch(l){$.add({title:"Scan Failed",description:l.message||"An error occurred during scanning",color:"error"})}finally{M.value=!1}}function pe(){P.value=!1,D.value=null,b.value="/data/forensic-exports",v.value=null}async function le(l){if(confirm("Delete this export record? (Files will remain on disk)"))try{await O.forensicExports.delete(l),$.add({title:"Success",description:"Export record deleted successfully",color:"success"}),await R()}catch(e){$.add({title:"Error",description:e.message||"Failed to delete export",color:"error"})}}async function G(l){try{const e=await O.forensicExports.verify(l);$.add({title:e.exists?"Export Verified":"Export Not Found",description:e.exists?"Export folder exists on disk":"Export folder not found on disk",color:e.exists?"success":"warning"}),e.exists&&await R()}catch(e){$.add({title:"Verification Failed",description:e.message||"Failed to verify export",color:"error"})}}const _e=[{accessorKey:"folder_name",header:"Folder Name"},{accessorKey:"case_name",header:"Case"},{accessorKey:"total_records",header:"Total Records"},{accessorKey:"num_attachments",header:"Attachments"},{accessorKey:"size_bytes",header:"Size"},{accessorKey:"export_status",header:"Status"},{accessorKey:"discovered_at",header:"Discovered"},{accessorKey:"actions",header:"Actions"}],oe={Completed:"success","Completed with Problems":"warning",Failed:"error","In Progress":"info"},W=E(()=>y.value.length>0&&u.value.length===y.value.length),xe=E(()=>u.value.length>0&&u.value.length<y.value.length);function ge(){W.value?u.value=[]:u.value=y.value.map(l=>l.id)}function he(l){const e=u.value.indexOf(l);e>-1?u.value.splice(e,1):u.value.push(l)}function ae(l){return u.value.includes(l)}async function be(){if(u.value.length===0)return;const l=u.value.length;if(confirm(`Delete ${l} export record${l>1?"s":""}? (Files will remain on disk)`)){H.value=!0;try{await Promise.all(u.value.map(e=>O.forensicExports.delete(e))),$.add({title:"Success",description:`${l} export record${l>1?"s":""} deleted successfully`,color:"success"}),u.value=[],await R()}catch(e){$.add({title:"Error",description:e.message||"Failed to delete exports",color:"error"})}finally{H.value=!1}}}return(l,e)=>{const a=Ve,V=De,Q=Ue,c=$e,p=Fe,ie=Te,X=Pe,L=Me,ee=Ae,ne=Re,ye=Be,ke=Le,re=Ne,we=je,de=Ie,ze=Ke;return r(),d(F,null,[o(we,null,{header:i(()=>[o(Q,{title:"Forensic Exports"},{trailing:i(()=>[o(V,null,{default:i(()=>[o(a,{icon:"i-lucide-refresh-cw",color:"neutral",variant:"ghost",label:"Refresh",loading:S(J),onClick:S(R)},null,8,["loading","onClick"]),o(a,{icon:"i-lucide-scan",color:"primary",label:"Scan Location",onClick:e[0]||(e[0]=s=>P.value=!0)})]),_:1})]),_:1})]),body:i(()=>[t("div",Ge,[t("div",Qe,[t("div",Xe,[t("div",He,[t("div",Ze,[o(c,{name:"i-lucide-database",class:"size-8 text-primary"})]),o(p,{color:"primary",variant:"subtle",size:"sm"},{default:i(()=>[...e[20]||(e[20]=[m("Total",-1)])]),_:1})]),t("div",null,[t("p",Je,n(B.value.total),1),e[21]||(e[21]=t("p",{class:"text-sm font-medium text-muted"},"Total Exports",-1))])]),t("div",Ye,[t("div",We,[t("div",et,[o(c,{name:"i-lucide-file-text",class:"size-8 text-success"})]),o(p,{color:"success",variant:"subtle",size:"sm"},{default:i(()=>[...e[22]||(e[22]=[m("Records",-1)])]),_:1})]),t("div",null,[t("p",tt,n(U(B.value.totalRecords)),1),e[23]||(e[23]=t("p",{class:"text-sm font-medium text-muted"},"Total Records",-1))])]),t("div",st,[t("div",lt,[t("div",ot,[o(c,{name:"i-lucide-paperclip",class:"size-8 text-warning"})]),o(p,{color:"warning",variant:"subtle",size:"sm"},{default:i(()=>[...e[24]||(e[24]=[m("Files",-1)])]),_:1})]),t("div",null,[t("p",at,n(U(B.value.totalAttachments)),1),e[25]||(e[25]=t("p",{class:"text-sm font-medium text-muted"},"Attachments",-1))])]),t("div",it,[t("div",nt,[t("div",rt,[o(c,{name:"i-lucide-hard-drive",class:"size-8 text-info"})]),o(p,{color:"info",variant:"subtle",size:"sm"},{default:i(()=>[...e[26]||(e[26]=[m("Storage",-1)])]),_:1})]),t("div",null,[t("p",dt,n(Y(B.value.totalSize)),1),e[27]||(e[27]=t("p",{class:"text-sm font-medium text-muted"},"Total Size",-1))])])]),u.value.length>0?(r(),d("div",ct,[t("div",ut,[t("div",mt,[o(c,{name:"i-lucide-check-circle",class:"size-5 text-primary"}),t("span",vt,n(u.value.length)+" export"+n(u.value.length>1?"s":"")+" selected ",1)]),o(V,null,{default:i(()=>[o(a,{label:"Deselect All",icon:"i-lucide-x",color:"neutral",variant:"outline",onClick:e[1]||(e[1]=s=>u.value=[])}),o(a,{label:"Delete Selected",icon:"i-lucide-trash-2",color:"error",variant:"soft",loading:H.value,onClick:be},null,8,["loading"])]),_:1})])])):f("",!0),o(L,null,{default:i(()=>[t("div",ft,[t("div",pt,[t("div",_t,[o(ie,{modelValue:_.value,"onUpdate:modelValue":e[2]||(e[2]=s=>_.value=s),icon:"i-lucide-search",placeholder:"Search exports by name, case, or UUID...",size:"lg"},null,8,["modelValue"])]),o(V,null,{default:i(()=>[o(a,{icon:k.value==="table"?"i-lucide-table-2":"i-lucide-table",color:k.value==="table"?"primary":"neutral",variant:k.value==="table"?"soft":"ghost",onClick:e[3]||(e[3]=s=>k.value="table")},null,8,["icon","color","variant"]),o(a,{icon:(k.value==="list","i-lucide-list"),color:k.value==="list"?"primary":"neutral",variant:k.value==="list"?"soft":"ghost",onClick:e[4]||(e[4]=s=>k.value="list")},null,8,["icon","color","variant"])]),_:1})]),t("div",xt,[o(X,{modelValue:x.value,"onUpdate:modelValue":e[5]||(e[5]=s=>x.value=s),items:Z.value,placeholder:"Filter by case","value-key":"value",class:"w-full md:w-64"},null,8,["modelValue","items"]),o(X,{modelValue:g.value,"onUpdate:modelValue":e[6]||(e[6]=s=>g.value=s),items:[{label:"All Status",value:null},{label:"Completed",value:"Completed"},{label:"Completed with Problems",value:"Completed with Problems"},{label:"Failed",value:"Failed"},{label:"In Progress",value:"In Progress"}],placeholder:"Filter by status","value-key":"value",class:"w-full md:w-56"},null,8,["modelValue"]),o(X,{modelValue:w.value,"onUpdate:modelValue":e[7]||(e[7]=s=>w.value=s),items:[{label:"Most Recent",value:"recent"},{label:"Oldest First",value:"oldest"},{label:"Name (A-Z)",value:"name-az"},{label:"Name (Z-A)",value:"name-za"},{label:"Size (Largest)",value:"size-large"},{label:"Size (Smallest)",value:"size-small"},{label:"Records (Most)",value:"records-high"},{label:"Records (Least)",value:"records-low"}],placeholder:"Sort by","value-key":"value",class:"w-full md:w-56"},null,8,["modelValue"])]),_.value||x.value||g.value?(r(),d("div",gt,[_.value?(r(),C(p,{key:0,color:"primary",variant:"soft"},{default:i(()=>[m(" Search: "+n(_.value)+" ",1),o(a,{icon:"i-lucide-x",size:"xs",color:"primary",variant:"ghost",onClick:e[8]||(e[8]=s=>_.value="")})]),_:1})):f("",!0),x.value?(r(),C(p,{key:1,color:"primary",variant:"soft"},{default:i(()=>[m(" Case: "+n(Z.value.find(s=>s.value===x.value)?.label)+" ",1),o(a,{icon:"i-lucide-x",size:"xs",color:"primary",variant:"ghost",onClick:e[9]||(e[9]=s=>x.value=null)})]),_:1})):f("",!0),g.value?(r(),C(p,{key:2,color:"primary",variant:"soft"},{default:i(()=>[m(" Status: "+n(g.value)+" ",1),o(a,{icon:"i-lucide-x",size:"xs",color:"primary",variant:"ghost",onClick:e[10]||(e[10]=s=>g.value=null)})]),_:1})):f("",!0)])):f("",!0),t("div",ht,[t("div",bt," Showing "+n(y.value.length)+" of "+n(B.value.total)+" exports ",1),y.value.length>0?(r(),C(a,{key:0,label:W.value?"Deselect All":"Select All",icon:W.value?"i-lucide-check-square":xe.value?"i-lucide-minus-square":"i-lucide-square",color:"primary",variant:"ghost",size:"sm",onClick:ge},null,8,["label","icon"])):f("",!0)])])]),_:1}),k.value==="table"&&y.value.length>0?(r(),d("div",yt,[o(ye,{data:y.value,columns:_e,class:"w-full",onSelect:e[12]||(e[12]=s=>("navigateTo"in l?l.navigateTo:S(T))(`/forensic-exports/${s.id}`))},{"folder_name-data":i(({row:s})=>[t("div",kt,n(s.folder_name||"Unnamed Export"),1)]),"case_name-data":i(({row:s})=>[o(p,{color:"neutral",variant:"subtle",size:"sm"},{default:i(()=>[m(n(s.case_name),1)]),_:2},1024)]),"total_records-data":i(({row:s})=>[t("div",wt,n(U(s.total_records||0)),1)]),"num_attachments-data":i(({row:s})=>[t("div",zt,n(U(s.num_attachments||0)),1)]),"size_bytes-data":i(({row:s})=>[t("div",Ct,n(Y(s.size_bytes||0)),1)]),"export_status-data":i(({row:s})=>[s.export_status?(r(),C(p,{key:0,color:oe[s.export_status]||"neutral",variant:"soft",size:"sm",class:"capitalize"},{default:i(()=>[m(n(s.export_status),1)]),_:2},1032,["color"])):(r(),d("span",St,"Unknown"))]),"discovered_at-data":i(({row:s})=>[t("div",$t,n(se(s.discovered_at)),1)]),"actions-data":i(({row:s})=>[t("div",{class:"flex items-center gap-1",onClick:e[11]||(e[11]=N(()=>{},["stop"]))},[o(ee,{text:"Verify Export"},{default:i(()=>[o(a,{icon:"i-lucide-shield-check",variant:"ghost",color:"neutral",size:"sm",onClick:z=>G(s.id)},null,8,["onClick"])]),_:2},1024),o(ne,{items:[[{label:"View Details",icon:"i-lucide-eye",click:()=>("navigateTo"in l?l.navigateTo:S(T))(`/forensic-exports/${s.id}`)},{label:"Verify",icon:"i-lucide-shield-check",click:()=>G(s.id)}],[{label:"Delete Record",icon:"i-lucide-trash",color:"error",click:()=>le(s.id)}]]},{default:i(()=>[o(a,{icon:"i-lucide-more-vertical",variant:"ghost",color:"neutral",size:"sm"})]),_:1},8,["items"])])]),_:1},8,["data"])])):f("",!0),k.value==="list"&&y.value.length>0?(r(),d("div",Vt,[(r(!0),d(F,null,j(y.value,s=>(r(),C(L,{key:s.id,class:Ee(["hover:shadow-md transition-all",ae(s.id)?"ring-2 ring-primary bg-primary/5":""])},{default:i(()=>[t("div",Et,[t("div",Dt,[o(ke,{"model-value":ae(s.id),"onUpdate:modelValue":z=>he(s.id),onClick:e[13]||(e[13]=N(()=>{},["stop"]))},null,8,["model-value","onUpdate:modelValue"])]),t("div",{class:"flex-shrink-0 p-3 bg-primary/10 rounded-lg cursor-pointer",onClick:z=>("navigateTo"in l?l.navigateTo:S(T))(`/forensic-exports/${s.id}`)},[o(c,{name:"i-lucide-database",class:"size-6 text-primary"})],8,Ut),t("div",{class:"flex-1 min-w-0 cursor-pointer",onClick:z=>("navigateTo"in l?l.navigateTo:S(T))(`/forensic-exports/${s.id}`)},[t("div",Tt,[t("div",Pt,[t("h3",Mt,n(s.folder_name||"Unnamed Export"),1),t("div",At,[o(p,{color:"neutral",variant:"subtle",size:"sm"},{default:i(()=>[m(n(s.case_name),1)]),_:2},1024),t("span",null,n(U(s.total_records||0))+" records",1),e[28]||(e[28]=t("span",null,"•",-1)),t("span",null,n(U(s.num_attachments||0))+" attachments",1),e[29]||(e[29]=t("span",null,"•",-1)),t("span",null,n(Y(s.size_bytes||0)),1),s.export_status?(r(),C(p,{key:0,color:oe[s.export_status]||"neutral",variant:"subtle",size:"sm"},{default:i(()=>[m(n(s.export_status),1)]),_:2},1032,["color"])):f("",!0)]),t("p",Rt," Discovered: "+n(se(s.discovered_at)),1)]),o(re,null,{default:i(()=>[t("div",Bt,[o(ee,{text:"View Details"},{default:i(()=>[o(a,{icon:"i-lucide-eye",variant:"ghost",color:"neutral",size:"sm",onClick:N(z=>("navigateTo"in l?l.navigateTo:S(T))(`/forensic-exports/${s.id}`),["stop"])},null,8,["onClick"])]),_:2},1024),o(ee,{text:"Verify Export"},{default:i(()=>[o(a,{icon:"i-lucide-shield-check",variant:"ghost",color:"neutral",size:"sm",onClick:N(z=>G(s.id),["stop"])},null,8,["onClick"])]),_:2},1024),o(ne,{items:[[{label:"View Details",icon:"i-lucide-eye",click:()=>("navigateTo"in l?l.navigateTo:S(T))(`/forensic-exports/${s.id}`)},{label:"Verify",icon:"i-lucide-shield-check",click:()=>G(s.id)}],[{label:"Delete Record",icon:"i-lucide-trash",color:"error",click:()=>le(s.id)}]]},{default:i(()=>[o(a,{icon:"i-lucide-more-vertical",variant:"ghost",color:"neutral",size:"sm",onClick:e[14]||(e[14]=N(()=>{},["stop"]))})]),_:1},8,["items"])])]),_:2},1024)])],8,Ft)])]),_:2},1032,["class"]))),128))])):f("",!0),y.value.length===0&&!S(J)?(r(),d("div",Lt,[t("div",Nt,[o(c,{name:"i-lucide-database",class:"size-16 text-primary/50"})]),t("h3",jt,n(_.value||x.value||g.value?"No exports found":"No forensic exports yet"),1),t("p",It,n(_.value||x.value||g.value?"Try adjusting your filters to see more results":"Scan a location to discover and register forensic exports from AXIOM"),1),!_.value&&!x.value&&!g.value?(r(),C(a,{key:0,label:"Scan Location",icon:"i-lucide-scan",color:"primary",size:"xl",onClick:e[15]||(e[15]=s=>P.value=!0)})):(r(),C(a,{key:1,label:"Clear Filters",icon:"i-lucide-x",color:"neutral",size:"xl",onClick:e[16]||(e[16]=s=>{_.value="",x.value=null,g.value=null})}))])):f("",!0),S(J)?(r(),d("div",Kt,[o(c,{name:"i-lucide-loader-2",class:"size-16 text-primary animate-spin mb-4"}),e[30]||(e[30]=t("p",{class:"text-lg text-muted"},"Loading forensic exports...",-1))])):f("",!0)])]),_:1}),o(re,null,{default:i(()=>[o(ze,{open:P.value,"onUpdate:open":e[19]||(e[19]=s=>P.value=s),title:"Scan Location for Forensic Exports",description:"Recursively scan a directory for AXIOM forensic export folders",ui:{content:"max-w-3xl"}},{body:i(()=>[t("div",Ot,[o(L,null,{header:i(()=>[t("div",qt,[t("div",Gt,[o(c,{name:"i-lucide-folder",class:"size-5 text-primary"})]),e[31]||(e[31]=t("h3",{class:"font-semibold text-lg"},"Select Case",-1))])]),default:i(()=>[o(de,{label:"Associate exports with case",name:"case",required:""},{default:i(()=>[o(X,{modelValue:D.value,"onUpdate:modelValue":e[17]||(e[17]=s=>D.value=s),items:Z.value.filter(s=>s.value!==null),placeholder:"Select a case...",size:"lg","value-key":"value"},null,8,["modelValue","items"])]),_:1})]),_:1}),o(L,null,{header:i(()=>[t("div",Qt,[t("div",Xt,[o(c,{name:"i-lucide-hard-drive",class:"size-5 text-primary"})]),e[32]||(e[32]=t("h3",{class:"font-semibold text-lg"},"Scan Path",-1))])]),default:i(()=>[t("div",Ht,[t("div",null,[e[33]||(e[33]=t("label",{class:"text-sm font-medium text-highlighted mb-2 block"},"Quick Select",-1)),t("div",Zt,[(r(),d(F,null,j(ue,s=>o(a,{key:s.value,label:s.label,icon:s.icon,size:"sm",color:b.value===s.value?"primary":"neutral",variant:b.value===s.value?"soft":"outline",onClick:z=>b.value=s.value},null,8,["label","icon","color","variant","onClick"])),64))])]),o(de,{label:"Or enter custom path",name:"path",required:"",description:"The path will be accessed inside the Docker container at /data/forensic-exports (configured via FORENSIC_EXPORTS_PATH env variable)"},{default:i(()=>[t("div",Jt,[o(ie,{modelValue:b.value,"onUpdate:modelValue":e[18]||(e[18]=s=>b.value=s),icon:"i-lucide-folder-open",placeholder:"/data/forensic-exports",size:"lg",class:"flex-1"},null,8,["modelValue"]),o(a,{label:"Browse",icon:"i-lucide-folder-search",color:"neutral",variant:"outline",size:"lg",onClick:me})])]),_:1}),t("div",Yt,[t("div",Wt,[o(c,{name:"i-lucide-info",class:"size-5 text-info flex-shrink-0 mt-0.5"}),e[34]||(e[34]=t("div",{class:"text-sm text-muted"},[t("p",{class:"font-medium text-highlighted mb-2"},"How it works:"),t("ul",{class:"space-y-1 list-disc list-inside"},[t("li",null,[m("Your removable drive is mounted to "),t("code",{class:"px-1.5 py-0.5 bg-default rounded text-xs font-mono"},"/data/forensic-exports")]),t("li",null,[m("Scans recursively for folders containing "),t("code",{class:"px-1.5 py-0.5 bg-default rounded text-xs font-mono"},"ExportSummary.json"),m(" and "),t("code",{class:"px-1.5 py-0.5 bg-default rounded text-xs font-mono"},"Report.html")]),t("li",null,"Registers new exports and skips existing ones"),t("li",null,"Stops recursing once an export is found (performance optimization)")])],-1))])])])]),_:1}),v.value?(r(),C(L,{key:0},{header:i(()=>[t("div",es,[t("div",ts,[o(c,{name:"i-lucide-check-circle",class:"size-5 text-success"})]),e[35]||(e[35]=t("h3",{class:"font-semibold text-lg"},"Scan Results",-1))])]),default:i(()=>[t("div",ss,[v.value.found?.length>0?(r(),d("div",ls,[t("p",os,[o(c,{name:"i-lucide-plus-circle",class:"size-4 inline mr-1"}),m(" Found "+n(v.value.found.length)+" new export(s) ",1)]),t("div",as,[(r(!0),d(F,null,j(v.value.found,s=>(r(),d("div",{key:s.id,class:"p-3 bg-success/10 border border-success/20 rounded-lg text-sm"},[t("p",is,n(s.name),1),t("p",ns,n(s.path),1)]))),128))])])):f("",!0),v.value.existing?.length>0?(r(),d("div",rs,[t("p",ds,[o(c,{name:"i-lucide-check",class:"size-4 inline mr-1"}),m(" Skipped "+n(v.value.existing.length)+" existing export(s) ",1)]),t("div",cs,[(r(!0),d(F,null,j(v.value.existing,(s,z)=>(r(),d("div",{key:z,class:"p-2 bg-info/10 border border-info/20 rounded text-xs text-muted"},n(s),1))),128))])])):f("",!0),v.value.errors?.length>0?(r(),d("div",us,[t("p",ms,[o(c,{name:"i-lucide-alert-circle",class:"size-4 inline mr-1"}),m(" "+n(v.value.errors.length)+" error(s) ",1)]),t("div",vs,[(r(!0),d(F,null,j(v.value.errors,(s,z)=>(r(),d("div",{key:z,class:"p-3 bg-error/10 border border-error/20 rounded-lg text-sm"},[t("p",fs,n(s.error),1),t("p",ps,n(s.path),1)]))),128))])])):f("",!0),!v.value.found?.length&&!v.value.existing?.length&&!v.value.errors?.length?(r(),d("div",_s,[...e[36]||(e[36]=[t("p",{class:"text-muted text-center py-4"},"No forensic exports found in the scanned location",-1)])])):f("",!0)])]),_:1})):f("",!0)])]),footer:i(()=>[t("div",xs,[o(a,{label:"Close",color:"neutral",variant:"outline",onClick:pe,disabled:M.value},null,8,["disabled"]),o(a,{label:"Start Scan",icon:"i-lucide-scan",color:"primary",disabled:!D.value||!b.value||M.value,loading:M.value,onClick:fe},null,8,["disabled","loading"])])]),_:1},8,["open"])]),_:1})],64)}}});export{el as default};
