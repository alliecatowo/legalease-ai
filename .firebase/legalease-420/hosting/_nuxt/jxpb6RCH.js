import{b5 as m,e as w,ap as d,aS as k,b3 as A,f as h,a0 as E,p as C,y as K,C as p,c as M,o as T,w as L,r as q,J as S,K as G,a as b,E as z,P as B}from"#entry";function U(e,r){const t=m(!1,300),n=w(null),s=k();function a(){n.value=null,t.value=!1}function o(u,c){const l=u.currentTarget,i={x:u.clientX,y:u.clientY},g=H(i,l.getBoundingClientRect()),v=R(i,g),x=D(c.getBoundingClientRect()),y=_([...v,...x]);n.value=y,t.value=!0}return d(u=>{if(e.value&&r.value){const c=i=>o(i,r.value),l=i=>o(i,e.value);e.value.addEventListener("pointerleave",c),r.value.addEventListener("pointerleave",l),u(()=>{e.value?.removeEventListener("pointerleave",c),r.value?.removeEventListener("pointerleave",l)})}}),d(u=>{if(n.value){const c=l=>{if(!n.value||!(l.target instanceof HTMLElement))return;const i=l.target,g={x:l.clientX,y:l.clientY},v=e.value?.contains(i)||r.value?.contains(i),x=!j(g,n.value),y=!!i.closest("[data-grace-area-trigger]");v?a():(x||y)&&(a(),s.trigger())};e.value?.ownerDocument.addEventListener("pointermove",c),u(()=>e.value?.ownerDocument.removeEventListener("pointermove",c))}}),{isPointerInTransit:t,onPointerExit:s.on}}function H(e,r){const t=Math.abs(r.top-e.y),n=Math.abs(r.bottom-e.y),s=Math.abs(r.right-e.x),a=Math.abs(r.left-e.x);switch(Math.min(t,n,s,a)){case a:return"left";case s:return"right";case t:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function R(e,r,t=5){const n=[];switch(r){case"top":n.push({x:e.x-t,y:e.y+t},{x:e.x+t,y:e.y+t});break;case"bottom":n.push({x:e.x-t,y:e.y-t},{x:e.x+t,y:e.y-t});break;case"left":n.push({x:e.x+t,y:e.y-t},{x:e.x+t,y:e.y+t});break;case"right":n.push({x:e.x-t,y:e.y-t},{x:e.x-t,y:e.y+t});break}return n}function D(e){const{top:r,right:t,bottom:n,left:s}=e;return[{x:s,y:r},{x:t,y:r},{x:t,y:n},{x:s,y:n}]}function j(e,r){const{x:t,y:n}=e;let s=!1;for(let a=0,o=r.length-1;a<r.length;o=a++){const u=r[a].x,c=r[a].y,l=r[o].x,i=r[o].y;c>n!=i>n&&t<(l-u)*(n-c)/(i-c)+u&&(s=!s)}return s}function _(e){const r=e.slice();return r.sort((t,n)=>t.x<n.x?-1:t.x>n.x?1:t.y<n.y?-1:t.y>n.y?1:0),F(r)}function F(e){if(e.length<=1)return e.slice();const r=[];for(let n=0;n<e.length;n++){const s=e[n];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}r.pop();const t=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}return t.pop(),r.length===1&&t.length===1&&r[0].x===t[0].x&&r[0].y===t[0].y?r:r.concat(t)}const f={meta:"",ctrl:"",alt:"",win:"⊞",command:"⌘",shift:"⇧",control:"⌃",option:"⌥",enter:"↵",delete:"⌦",backspace:"⌫",escape:"Esc",tab:"⇥",capslock:"⇪",arrowup:"↑",arrowright:"→",arrowdown:"↓",arrowleft:"←",pageup:"⇞",pagedown:"⇟",home:"↖",end:"↘"},P=()=>{const e=h(()=>navigator&&navigator.userAgent&&navigator.userAgent.match(/Macintosh;/)),r=E({meta:" ",alt:" ",ctrl:" "});C(()=>{r.meta=e.value?f.command:"Ctrl",r.ctrl=e.value?f.control:"Ctrl",r.alt=e.value?f.option:"Alt"});function t(n){if(n)return["meta","alt","ctrl"].includes(n)?r[n]:f[n]||n.toUpperCase()}return{macOS:e,getKbdKey:t}},V=A(P),I={base:"inline-flex items-center justify-center px-1 rounded-sm font-medium font-sans",variants:{color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},variant:{solid:"",outline:"",soft:"",subtle:""},size:{sm:"h-4 min-w-[16px] text-[10px]",md:"h-5 min-w-[20px] text-[11px]",lg:"h-6 min-w-[24px] text-[12px]"}},compoundVariants:[{color:"primary",variant:"solid",class:"text-inverted bg-primary"},{color:"secondary",variant:"solid",class:"text-inverted bg-secondary"},{color:"success",variant:"solid",class:"text-inverted bg-success"},{color:"info",variant:"solid",class:"text-inverted bg-info"},{color:"warning",variant:"solid",class:"text-inverted bg-warning"},{color:"error",variant:"solid",class:"text-inverted bg-error"},{color:"primary",variant:"outline",class:"ring ring-inset ring-primary/50 text-primary"},{color:"secondary",variant:"outline",class:"ring ring-inset ring-secondary/50 text-secondary"},{color:"success",variant:"outline",class:"ring ring-inset ring-success/50 text-success"},{color:"info",variant:"outline",class:"ring ring-inset ring-info/50 text-info"},{color:"warning",variant:"outline",class:"ring ring-inset ring-warning/50 text-warning"},{color:"error",variant:"outline",class:"ring ring-inset ring-error/50 text-error"},{color:"primary",variant:"soft",class:"text-primary bg-primary/10"},{color:"secondary",variant:"soft",class:"text-secondary bg-secondary/10"},{color:"success",variant:"soft",class:"text-success bg-success/10"},{color:"info",variant:"soft",class:"text-info bg-info/10"},{color:"warning",variant:"soft",class:"text-warning bg-warning/10"},{color:"error",variant:"soft",class:"text-error bg-error/10"},{color:"primary",variant:"subtle",class:"text-primary ring ring-inset ring-primary/25 bg-primary/10"},{color:"secondary",variant:"subtle",class:"text-secondary ring ring-inset ring-secondary/25 bg-secondary/10"},{color:"success",variant:"subtle",class:"text-success ring ring-inset ring-success/25 bg-success/10"},{color:"info",variant:"subtle",class:"text-info ring ring-inset ring-info/25 bg-info/10"},{color:"warning",variant:"subtle",class:"text-warning ring ring-inset ring-warning/25 bg-warning/10"},{color:"error",variant:"subtle",class:"text-error ring ring-inset ring-error/25 bg-error/10"},{color:"neutral",variant:"solid",class:"text-inverted bg-inverted"},{color:"neutral",variant:"outline",class:"ring ring-inset ring-accented text-default bg-default"},{color:"neutral",variant:"soft",class:"text-default bg-elevated"},{color:"neutral",variant:"subtle",class:"ring ring-inset ring-accented text-default bg-elevated"}],defaultVariants:{variant:"outline",color:"neutral",size:"md"}},X={__name:"UKbd",props:{as:{type:null,required:!1,default:"kbd"},value:{type:null,required:!1},color:{type:null,required:!1},variant:{type:null,required:!1},size:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const r=e,{getKbdKey:t}=V(),n=K(),s=h(()=>p({extend:p(I),...n.ui?.kbd||{}}));return(a,o)=>(T(),M(b(B),{as:e.as,class:z(s.value({class:r.class,color:r.color,variant:r.variant,size:r.size}))},{default:L(()=>[q(a.$slots,"default",{},()=>[S(G(b(t)(e.value)),1)])]),_:3},8,["as","class"]))}};export{X as _,U as a,V as u};
